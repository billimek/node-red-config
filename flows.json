[{"id":"afb0f186.cfb0d","type":"tab","label":"Home Assistant","disabled":false,"info":""},{"id":"ea946133.0085b","type":"tab","label":"Cameras","disabled":false,"info":""},{"id":"4aedf9e8.044e08","type":"tab","label":"Alarm","disabled":false,"info":""},{"id":"bdb29ba8.1840f8","type":"tab","label":"Garage","disabled":false,"info":""},{"id":"9143c7f2.16df18","type":"tab","label":"Presence","disabled":false,"info":""},{"id":"8b52884a.b76658","type":"server","z":"","name":"Home Assistant","legacy":false,"hassio":false,"rejectUnauthorizedCerts":true,"ha_boolean":"y|yes|true|on|home|open"},{"id":"649859a4.a17818","type":"mqtt-broker","z":"","name":"rabbitmq","broker":"10.2.0.102","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"1be7789.845ca87","type":"pushover-keys","z":"","name":""},{"id":"94d305d.ea818f8","type":"minio-config","z":"","sslenabled":true},{"id":"738ad7f2.c345c8","type":"api-call-service","z":"afb0f186.cfb0d","name":"Turn on Basement Fan","server":"8b52884a.b76658","service_domain":"climate","service":"set_fan_mode","data":"{\"entity_id\":\"climate.basement\",\"fan_mode\":\"on\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":469,"y":81.5,"wires":[["60b3ff31.7705f"]]},{"id":"60b3ff31.7705f","type":"debug","z":"afb0f186.cfb0d","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":737,"y":81.5,"wires":[]},{"id":"dcb17b9f.340438","type":"bigtimer","z":"afb0f186.cfb0d","outtopic":"","outpayload1":"1","outpayload2":"","name":"Noon every day","comment":"","lat":"33.94519","lon":"-84.45379","starttime":"720","endtime":"735","starttime2":0,"endtime2":0,"startoff":"0","endoff":"0","offs":0,"outtext1":"","outtext2":"","timeout":1440,"sun":true,"mon":true,"tue":true,"wed":true,"thu":true,"fri":true,"sat":true,"jan":true,"feb":true,"mar":true,"apr":true,"may":true,"jun":true,"jul":true,"aug":true,"sep":true,"oct":true,"nov":true,"dec":true,"day1":0,"month1":0,"day2":0,"month2":0,"day3":0,"month3":0,"day4":0,"month4":0,"day5":0,"month5":0,"day6":0,"month6":0,"d1":0,"w1":0,"d2":0,"w2":0,"d3":0,"w3":0,"d4":0,"w4":0,"d5":0,"w5":0,"d6":0,"w6":0,"xday1":0,"xmonth1":0,"xday2":0,"xmonth2":0,"xday3":0,"xmonth3":0,"xday4":0,"xmonth4":0,"xday5":0,"xmonth5":0,"xday6":0,"xmonth6":0,"xd1":0,"xw1":0,"xd2":0,"xw2":0,"xd3":0,"xw3":0,"xd4":0,"xw4":0,"xd5":0,"xw5":0,"xd6":0,"xw6":0,"suspend":false,"random":false,"repeat":false,"atstart":true,"odd":false,"even":false,"x":163,"y":94,"wires":[["738ad7f2.c345c8"],[],[]]},{"id":"6cb23d50.77ced4","type":"bigtimer","z":"4aedf9e8.044e08","outtopic":"","outpayload1":"1","outpayload2":"","name":"Midnight every day","comment":"","lat":"33.94519","lon":"-84.45379","starttime":"0","endtime":"15","starttime2":0,"endtime2":0,"startoff":"0","endoff":"0","offs":0,"outtext1":"","outtext2":"","timeout":1440,"sun":true,"mon":true,"tue":true,"wed":true,"thu":true,"fri":true,"sat":true,"jan":true,"feb":true,"mar":true,"apr":true,"may":true,"jun":true,"jul":true,"aug":true,"sep":true,"oct":true,"nov":true,"dec":true,"day1":0,"month1":0,"day2":0,"month2":0,"day3":0,"month3":0,"day4":0,"month4":0,"day5":0,"month5":0,"day6":0,"month6":0,"d1":0,"w1":0,"d2":0,"w2":0,"d3":0,"w3":0,"d4":0,"w4":0,"d5":0,"w5":0,"d6":0,"w6":0,"xday1":0,"xmonth1":0,"xday2":0,"xmonth2":0,"xday3":0,"xmonth3":0,"xday4":0,"xmonth4":0,"xday5":0,"xmonth5":0,"xday6":0,"xmonth6":0,"xd1":0,"xw1":0,"xd2":0,"xw2":0,"xd3":0,"xw3":0,"xd4":0,"xw4":0,"xd5":0,"xw5":0,"xd6":0,"xw6":0,"suspend":false,"random":false,"repeat":false,"atstart":true,"odd":false,"even":false,"x":139,"y":88.5,"wires":[["c77d382a.cb6bf8"],[],[]]},{"id":"c77d382a.cb6bf8","type":"api-current-state","z":"4aedf9e8.044e08","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":389,"y":84,"wires":[["d23e8d4a.f0adb"]]},{"id":"bafec0ae.30733","type":"inject","z":"4aedf9e8.044e08","name":"force-run","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":131,"y":151,"wires":[["c77d382a.cb6bf8"]]},{"id":"d23e8d4a.f0adb","type":"switch","z":"4aedf9e8.044e08","name":"state = \"home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":619,"y":85,"wires":[["8d782ee4.3daf1"]]},{"id":"97f358c3.fa2c48","type":"api-call-service","z":"4aedf9e8.044e08","name":"arm alarm","server":"8b52884a.b76658","service_domain":"alarm_control_panel","service":"alarm_arm_home","data":"{\"entity_id\":\"alarm_control_panel.alarm_panel\",\"code\":\"2600\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":804,"y":150,"wires":[["5358b879.268c18"]]},{"id":"5358b879.268c18","type":"debug","z":"4aedf9e8.044e08","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":1016,"y":149,"wires":[]},{"id":"24e58e6b.442df2","type":"bigtimer","z":"4aedf9e8.044e08","outtopic":"","outpayload1":"1","outpayload2":"","name":"5am every day","comment":"","lat":"33.94519","lon":"-84.45379","starttime":"300","endtime":"315","starttime2":0,"endtime2":0,"startoff":"0","endoff":"0","offs":0,"outtext1":"","outtext2":"","timeout":1440,"sun":true,"mon":true,"tue":true,"wed":true,"thu":true,"fri":true,"sat":true,"jan":true,"feb":true,"mar":true,"apr":true,"may":true,"jun":true,"jul":true,"aug":true,"sep":true,"oct":true,"nov":true,"dec":true,"day1":0,"month1":0,"day2":0,"month2":0,"day3":0,"month3":0,"day4":0,"month4":0,"day5":0,"month5":0,"day6":0,"month6":0,"d1":0,"w1":0,"d2":0,"w2":0,"d3":0,"w3":0,"d4":0,"w4":0,"d5":0,"w5":0,"d6":0,"w6":0,"xday1":0,"xmonth1":0,"xday2":0,"xmonth2":0,"xday3":0,"xmonth3":0,"xday4":0,"xmonth4":0,"xday5":0,"xmonth5":0,"xday6":0,"xmonth6":0,"xd1":0,"xw1":0,"xd2":0,"xw2":0,"xd3":0,"xw3":0,"xd4":0,"xw4":0,"xd5":0,"xw5":0,"xd6":0,"xw6":0,"suspend":false,"random":false,"repeat":false,"atstart":true,"odd":false,"even":false,"x":123,"y":277.5,"wires":[["73c30e71.e8d46"],[],[]]},{"id":"73c30e71.e8d46","type":"api-current-state","z":"4aedf9e8.044e08","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":361,"y":272,"wires":[["9352946e.57f958"]]},{"id":"d6646d02.af28b","type":"inject","z":"4aedf9e8.044e08","name":"force-run","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":129,"y":342,"wires":[["73c30e71.e8d46"]]},{"id":"9352946e.57f958","type":"switch","z":"4aedf9e8.044e08","name":"state = \"home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":585,"y":272,"wires":[["f36487b8.7e8c48"]]},{"id":"3e70cbd7.48e594","type":"api-call-service","z":"4aedf9e8.044e08","name":"disarm alarm","server":"8b52884a.b76658","service_domain":"alarm_control_panel","service":"alarm_disarm","data":"{\"entity_id\":\"alarm_control_panel.alarm_panel\",\"code\":\"2600\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":778,"y":338,"wires":[["bf10eb8e.43f3c8"]]},{"id":"bf10eb8e.43f3c8","type":"debug","z":"4aedf9e8.044e08","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":962,"y":338,"wires":[]},{"id":"8d782ee4.3daf1","type":"api-current-state","z":"4aedf9e8.044e08","name":"alarm panel current state","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"alarm_control_panel.alarm_panel","state_type":"str","outputs":1,"x":851,"y":85,"wires":[["10bf8c8c.d600b3","857877dc.86e6c8"]]},{"id":"10bf8c8c.d600b3","type":"debug","z":"4aedf9e8.044e08","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1070,"y":43,"wires":[]},{"id":"857877dc.86e6c8","type":"switch","z":"4aedf9e8.044e08","name":"state = \"disarmed\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"disarmed","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1095,"y":85,"wires":[["97f358c3.fa2c48"]]},{"id":"f36487b8.7e8c48","type":"api-current-state","z":"4aedf9e8.044e08","name":"alarm panel current state","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"alarm_control_panel.alarm_panel","state_type":"str","outputs":1,"x":815,"y":272,"wires":[["ac082e65.b8107","df3d8203.e0e19"]]},{"id":"ac082e65.b8107","type":"switch","z":"4aedf9e8.044e08","name":"state != \"disarmed\" ?","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"disarmed","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1055,"y":272,"wires":[["3e70cbd7.48e594"]]},{"id":"df3d8203.e0e19","type":"debug","z":"4aedf9e8.044e08","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","x":1030,"y":215,"wires":[]},{"id":"8d417b5.6e68088","type":"poll-state","z":"bdb29ba8.1840f8","name":"","server":"8b52884a.b76658","updateinterval":"10","outputinitially":true,"outputonchanged":true,"entity_id":"cover.jen_garage_door","state_type":"str","halt_if":"","halt_if_type":"str","halt_if_compare":"is","outputs":1,"x":183,"y":103,"wires":[["5b52ac96.dd9114"]]},{"id":"dca33733.0a19a8","type":"debug","z":"bdb29ba8.1840f8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","x":786,"y":162,"wires":[]},{"id":"5b52ac96.dd9114","type":"function","z":"bdb29ba8.1840f8","name":"garage door open for > 30 mins","func":"if (msg.data.timeSinceChangedMs >= 1800000 && msg.payload === \"open\") {\n   return [ msg ];\n}\n","outputs":1,"noerr":0,"x":522,"y":103,"wires":[["dca33733.0a19a8","c9f3e55.80fbc18"]]},{"id":"c9f3e55.80fbc18","type":"api-call-service","z":"bdb29ba8.1840f8","name":"close jen's garage door","server":"8b52884a.b76658","service_domain":"cover","service":"close_cover","data":"{\"entity_id\":\"cover.jen_garage_door\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":828,"y":103,"wires":[["b37e29c1.468d38"]]},{"id":"b37e29c1.468d38","type":"debug","z":"bdb29ba8.1840f8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1061,"y":103,"wires":[]},{"id":"b6f92227.2dc86","type":"api-call-service","z":"ea946133.0085b","name":"TensorFlow Front Camera","server":"8b52884a.b76658","service_domain":"image_processing","service":"scan","data":"{\"entity_id\":\"image_processing.tensorflow_front\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":521.111083984375,"y":135.55555725097656,"wires":[["6fc857c6.4a1a38"]]},{"id":"d288878b.4f0098","type":"api-call-service","z":"ea946133.0085b","name":"TensorFlow Porch Camera","server":"8b52884a.b76658","service_domain":"image_processing","service":"scan","data":"{\"entity_id\":\"image_processing.tensorflow_porch\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":529.9999694824219,"y":242.77778816223145,"wires":[["6e6856b9.579ed8"]]},{"id":"d377cb6e.3941c8","type":"api-call-service","z":"ea946133.0085b","name":"TensorFlow Driveway Camera","server":"8b52884a.b76658","service_domain":"image_processing","service":"scan","data":"{\"entity_id\":\"image_processing.tensorflow_driveway\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":543.9999313354492,"y":377.2221965789795,"wires":[["d36cb11b.d46d3"]]},{"id":"440c268c.a2c918","type":"api-call-service","z":"ea946133.0085b","name":"TensorFlow Pool Camera","server":"8b52884a.b76658","service_domain":"image_processing","service":"scan","data":"{\"entity_id\":\"image_processing.tensorflow_pool\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":527.7776679992676,"y":487.77777767181396,"wires":[["a734fd0.f043f"]]},{"id":"c918c6bc.fda918","type":"api-call-service","z":"ea946133.0085b","name":"TensorFlow Basement Camera","server":"8b52884a.b76658","service_domain":"image_processing","service":"scan","data":"{\"entity_id\":\"image_processing.tensorflow_basement\"}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":544.7776527404785,"y":601.8888931274414,"wires":[["612ba454.c4da4c"]]},{"id":"6fc857c6.4a1a38","type":"api-current-state","z":"ea946133.0085b","name":"Tensorflow Front Camera","server":"8b52884a.b76658","halt_if":"0","halt_if_type":"num","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"image_processing.tensorflow_front","state_type":"num","outputs":2,"x":840.111083984375,"y":135.55555725097656,"wires":[["5dc31bf6.c9f0d4"],[]]},{"id":"5dc31bf6.c9f0d4","type":"api-call-service","z":"ea946133.0085b","name":"Notify Slack","server":"8b52884a.b76658","service_domain":"notify","service":"slack","data":"{\"message\":\"Front Camera Motion Alert\",\"title\":\"front_latest.jpg\",\"data\":{\"file\":{\"path\":\"/config/www/tensorflow/snapshot/front_latest.jpg\"}}}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":1122.111083984375,"y":130.55555725097656,"wires":[[]]},{"id":"6e6856b9.579ed8","type":"api-current-state","z":"ea946133.0085b","name":"Tensorflow Porch Camera","server":"8b52884a.b76658","halt_if":"0","halt_if_type":"num","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"image_processing.tensorflow_porch","state_type":"num","outputs":2,"x":840.0000305175781,"y":242.66668128967285,"wires":[["30d72407.c809dc"],[]]},{"id":"30d72407.c809dc","type":"api-call-service","z":"ea946133.0085b","name":"Notify Slack","server":"8b52884a.b76658","service_domain":"notify","service":"slack","data":"{\"message\":\"Porch Camera Motion Alert\",\"title\":\"porch_latest.jpg\",\"data\":{\"file\":{\"path\":\"/config/www/tensorflow/snapshot/porch_latest.jpg\"}}}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":1125.1111145019531,"y":258.88890647888184,"wires":[[]]},{"id":"d36cb11b.d46d3","type":"api-current-state","z":"ea946133.0085b","name":"Tensorflow Driveway Camera","server":"8b52884a.b76658","halt_if":"0","halt_if_type":"num","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"image_processing.tensorflow_driveway","state_type":"num","outputs":2,"x":850.9999313354492,"y":377.2221965789795,"wires":[["3ee2d3bb.738bbc"],[]]},{"id":"3ee2d3bb.738bbc","type":"api-call-service","z":"ea946133.0085b","name":"Notify Slack","server":"8b52884a.b76658","service_domain":"notify","service":"slack","data":"{\"message\":\"Driveway Camera Motion Alert\",\"title\":\"driveway_latest.jpg\",\"data\":{\"file\":{\"path\":\"/config/www/tensorflow/snapshot/driveway_latest.jpg\"}}}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":1126.9999313354492,"y":371.2221965789795,"wires":[[]]},{"id":"a734fd0.f043f","type":"api-current-state","z":"ea946133.0085b","name":"Tensorflow Pool Camera","server":"8b52884a.b76658","halt_if":"0","halt_if_type":"num","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"image_processing.tensorflow_pool","state_type":"num","outputs":2,"x":844.7776679992676,"y":486.77777767181396,"wires":[["414bccec.7349d4"],[]]},{"id":"414bccec.7349d4","type":"api-call-service","z":"ea946133.0085b","name":"Notify Slack","server":"8b52884a.b76658","service_domain":"notify","service":"slack","data":"{\"message\":\"Pool Camera Motion Alert\",\"title\":\"pool_latest.jpg\",\"data\":{\"file\":{\"path\":\"/config/www/tensorflow/snapshot/pool_latest.jpg\"}}}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":1124.7776679992676,"y":480.77777767181396,"wires":[[]]},{"id":"612ba454.c4da4c","type":"api-current-state","z":"ea946133.0085b","name":"Tensorflow Basement Camera","server":"8b52884a.b76658","halt_if":"0","halt_if_type":"num","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"image_processing.tensorflow_basement","state_type":"num","outputs":2,"x":865.7776527404785,"y":601.8888931274414,"wires":[["c63361cc.dfff5"],[]]},{"id":"c63361cc.dfff5","type":"api-call-service","z":"ea946133.0085b","name":"Notify Slack","server":"8b52884a.b76658","service_domain":"notify","service":"slack","data":"{\"message\":\"Basement Camera Motion Alert\",\"title\":\"basement_latest.jpg\",\"data\":{\"file\":{\"path\":\"/config/www/tensorflow/snapshot/basement_latest.jpg\"}}}","render_data":false,"mergecontext":"","output_location":"payload","output_location_type":"msg","x":1128.7776527404785,"y":595.8888931274414,"wires":[[]]},{"id":"d21b68ea.35e228","type":"mqtt in","z":"ea946133.0085b","name":"Basement Camera","topic":"BlueIris/alert/basement","qos":"2","broker":"649859a4.a17818","x":127.77765274047852,"y":600.8888931274414,"wires":[["1748c807.aa4d38"]]},{"id":"1748c807.aa4d38","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":303.7776527404785,"y":600.8888931274414,"wires":[["c918c6bc.fda918"]]},{"id":"9c39feb3.383fe","type":"mqtt in","z":"ea946133.0085b","name":"Pool Camera","topic":"BlueIris/alert/pool","qos":"2","broker":"649859a4.a17818","x":109.77766799926758,"y":487.77777767181396,"wires":[["78aeb1e8.46d6e"]]},{"id":"78aeb1e8.46d6e","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":303.7776679992676,"y":487.77777767181396,"wires":[["440c268c.a2c918"]]},{"id":"7e47d536.23888c","type":"mqtt in","z":"ea946133.0085b","name":"Driveway Camera","topic":"BlueIris/alert/driveway","qos":"2","broker":"649859a4.a17818","x":118.99993133544922,"y":376.2221965789795,"wires":[["d21399aa.23e888"]]},{"id":"d21399aa.23e888","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":305.9999313354492,"y":377.2221965789795,"wires":[["d377cb6e.3941c8"]]},{"id":"3ecf9f25.f83ba","type":"mqtt in","z":"ea946133.0085b","name":"Porch Camera","topic":"BlueIris/alert/porch","qos":"2","broker":"649859a4.a17818","x":113.111083984375,"y":242.7777919769287,"wires":[["1a96c3ed.7acf3c"]]},{"id":"1a96c3ed.7acf3c","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":303.111083984375,"y":242.7777919769287,"wires":[["d288878b.4f0098"]]},{"id":"4c4e98d0.e35dc8","type":"mqtt in","z":"ea946133.0085b","name":"Front Camera","topic":"BlueIris/alert/front","qos":"2","broker":"649859a4.a17818","x":113.111083984375,"y":134.55555725097656,"wires":[["11121690.83bb79"]]},{"id":"11121690.83bb79","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ON","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":305.111083984375,"y":134.55555725097656,"wires":[["b6f92227.2dc86"]]},{"id":"8544afb0.aad9d","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1317.111083984375,"y":94.55555725097656,"wires":[]},{"id":"80d28229.880fb","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected\";\nmsg.payload = \"Front\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"https://hass.eviljungle.com/local/tensorflow/snapshot/front_latest.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1143.611083984375,"y":94.55555725097656,"wires":[["8544afb0.aad9d"]]},{"id":"f1fa5de8.e6ead","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1326.1111145019531,"y":221.88890647888184,"wires":[]},{"id":"e3ccb525.e4d7d8","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected\";\nmsg.payload = \"Porch\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"https://hass.eviljungle.com/local/tensorflow/snapshot/porch_latest.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1144.6111145019531,"y":221.88890647888184,"wires":[["f1fa5de8.e6ead"]]},{"id":"e3bac39.0c5ff4","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1321.9999313354492,"y":333.2221965789795,"wires":[]},{"id":"aca9fc83.107cc","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected\";\nmsg.payload = \"Driveway\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"https://hass.eviljungle.com/local/tensorflow/snapshot/driveway_latest.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1146.4999313354492,"y":333.2221965789795,"wires":[["e3bac39.0c5ff4"]]},{"id":"cfb516da.7e78e8","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1323.3331489562988,"y":444.6666669845581,"wires":[]},{"id":"60bc8407.e0033c","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected\";\nmsg.payload = \"Pool\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"https://hass.eviljungle.com/local/tensorflow/snapshot/pool_latest.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1143.2776679992676,"y":444.77777767181396,"wires":[["cfb516da.7e78e8"]]},{"id":"7864d52.1789d2c","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1331.4442558288574,"y":559.7777557373047,"wires":[]},{"id":"76561623.6383b8","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected\";\nmsg.payload = \"Basement\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"https://hass.eviljungle.com/local/tensorflow/snapshot/basement_latest.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1150.2776527404785,"y":559.8888931274414,"wires":[["7864d52.1789d2c"]]},{"id":"2f902d29.65f162","type":"mqtt in","z":"ea946133.0085b","name":"Front Camera (frigate)","topic":"frigate/front/objects","qos":"2","datatype":"auto","broker":"649859a4.a17818","x":140,"y":731,"wires":[["f981233a.919ee"]]},{"id":"dac685a2.2c81f8","type":"mqtt in","z":"ea946133.0085b","name":"Porch Camera (frigate)","topic":"frigate/porch/objects","qos":"2","datatype":"auto","broker":"649859a4.a17818","x":137,"y":893,"wires":[["d9d5eb14.a24088"]]},{"id":"12525f60.1cb281","type":"mqtt in","z":"ea946133.0085b","name":"Driveway Camera (frigate)","topic":"frigate/driveway/objects","qos":"2","datatype":"auto","broker":"649859a4.a17818","x":148,"y":1054,"wires":[["4a3232d5.83a38c"]]},{"id":"6b8b5f2f.4ae78","type":"mqtt in","z":"ea946133.0085b","name":"Pool Camera (frigate)","topic":"frigate/pool/objects","qos":"2","datatype":"auto","broker":"649859a4.a17818","x":140,"y":1220,"wires":[["7f697fd9.9e767"]]},{"id":"5d436f22.73ef","type":"mqtt in","z":"ea946133.0085b","name":"Basement Camera (frigate)","topic":"frigate/basement/objects","qos":"2","datatype":"auto","broker":"649859a4.a17818","x":146,"y":1376,"wires":[["6c4e92b2.bf3b7c"]]},{"id":"f981233a.919ee","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"{\"person\": \"ON\"}","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":383,"y":731,"wires":[["74727546.1b67ec","feaab13e.d12ba"]]},{"id":"d9d5eb14.a24088","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"{\"person\": \"ON\"}","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":379,"y":891,"wires":[["b6cb248b.cdd6f8","fecab8f7.aa5b18"]]},{"id":"4a3232d5.83a38c","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"{\"person\": \"ON\"}","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":383,"y":1050,"wires":[["6b704164.2a31b","69e6676b.787a18"]]},{"id":"7f697fd9.9e767","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"{\"person\": \"ON\"}","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1220,"wires":[["28cfb1a4.4fea9e","d3be975d.234b68"]]},{"id":"6c4e92b2.bf3b7c","type":"switch","z":"ea946133.0085b","name":"motion","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"{\"person\": \"ON\"}","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":375,"y":1376,"wires":[["74bd1c94.30bc34","cdcecccd.15beb"]]},{"id":"56afaa65.494d14","type":"pushover api","z":"ea946133.0085b","keys":"1be7789.845ca87","title":"","name":"","x":1366,"y":1092,"wires":[]},{"id":"80eddcd0.58a4f","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected (frigate)\";\nmsg.payload = \"Porch\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"http://k8s-4:5000/porch/best_person.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1099.5,"y":898,"wires":[["56afaa65.494d14"]]},{"id":"6b704164.2a31b","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected (frigate)\";\nmsg.payload = \"Driveway\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"http://k8s-4:5000/driveway/best_person.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1097,"y":1050,"wires":[["56afaa65.494d14"]]},{"id":"74727546.1b67ec","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected (frigate)\";\nmsg.payload = \"Front\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"http://k8s-4:5000/front/best_person.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1096,"y":729,"wires":[["56afaa65.494d14"]]},{"id":"5aa5e662.1fde68","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected (frigate)\";\nmsg.payload = \"Pool\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"http://k8s-4:5000/pool/best_person.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1101,"y":1221,"wires":[["56afaa65.494d14"]]},{"id":"74bd1c94.30bc34","type":"function","z":"ea946133.0085b","name":"pushover payload","func":"msg.topic = \"Person Detected (frigate)\";\nmsg.payload = \"Basement\";\nmsg.sound = \"intermission\"\nmsg.priority = 1;\nmsg.image = \"http://k8s-4:5000/basement/best_person.jpg\"\nreturn msg;\n","outputs":1,"noerr":0,"x":1096,"y":1372,"wires":[["56afaa65.494d14"]]},{"id":"b6cb248b.cdd6f8","type":"api-current-state","z":"ea946133.0085b","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":602,"y":929,"wires":[["68bc7f81.fba3a"]]},{"id":"68bc7f81.fba3a","type":"switch","z":"ea946133.0085b","name":"state = \"not home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"not home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":839,"y":929,"wires":[["80eddcd0.58a4f"]]},{"id":"28cfb1a4.4fea9e","type":"api-current-state","z":"ea946133.0085b","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":600,"y":1254,"wires":[["99c8b768.ed7828"]]},{"id":"99c8b768.ed7828","type":"switch","z":"ea946133.0085b","name":"state = \"not home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"not home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":837,"y":1254,"wires":[["5aa5e662.1fde68"]]},{"id":"da6eebcb.9d7758","type":"api-current-state","z":"ea946133.0085b","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":595,"y":1405,"wires":[["78241976.48b528"]]},{"id":"78241976.48b528","type":"switch","z":"ea946133.0085b","name":"state = \"not home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"not home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":832,"y":1405,"wires":[[]]},{"id":"b662b28f.85383","type":"api-current-state","z":"ea946133.0085b","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":601,"y":1080,"wires":[["f9b31f8c.1ba62"]]},{"id":"f9b31f8c.1ba62","type":"switch","z":"ea946133.0085b","name":"state = \"not home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"not home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":838,"y":1080,"wires":[[]]},{"id":"5ae6824a.30d83c","type":"api-current-state","z":"ea946133.0085b","name":"sensor.anyone_home","server":"8b52884a.b76658","halt_if":"","halt_if_type":"str","halt_if_compare":"is","override_topic":true,"override_payload":true,"override_data":true,"entity_id":"sensor.anyone_home","state_type":"str","outputs":1,"x":604,"y":759,"wires":[["cc927423.fd3828"]]},{"id":"cc927423.fd3828","type":"switch","z":"ea946133.0085b","name":"state = \"not home\" ?","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"not home","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":841,"y":759,"wires":[[]]},{"id":"cdcecccd.15beb","type":"function","z":"ea946133.0085b","name":"trigger basement camera","func":"msg.payload = \"camera=basement&trigger\";\nreturn msg;\n","outputs":1,"noerr":0,"x":720,"y":1344,"wires":[["3f56c50a.db089a"]]},{"id":"3f56c50a.db089a","type":"mqtt out","z":"ea946133.0085b","name":"trigger blue iris camera","topic":"BlueIris/admin","qos":"","retain":"","broker":"649859a4.a17818","x":1408,"y":1024,"wires":[]},{"id":"fecab8f7.aa5b18","type":"function","z":"ea946133.0085b","name":"trigger porch camera","func":"msg.payload = \"camera=porch&trigger\";\nreturn msg;\n","outputs":1,"noerr":0,"x":735,"y":861,"wires":[["3f56c50a.db089a"]]},{"id":"feaab13e.d12ba","type":"function","z":"ea946133.0085b","name":"trigger front camera","func":"msg.payload = \"camera=front&trigger\";\nreturn msg;\n","outputs":1,"noerr":0,"x":731,"y":703,"wires":[["3f56c50a.db089a"]]},{"id":"69e6676b.787a18","type":"function","z":"ea946133.0085b","name":"trigger driveway camera","func":"msg.payload = \"camera=driveway&trigger\";\nreturn msg;\n","outputs":1,"noerr":0,"x":721,"y":1021,"wires":[["3f56c50a.db089a"]]},{"id":"d3be975d.234b68","type":"function","z":"ea946133.0085b","name":"trigger pool camera","func":"msg.payload = \"camera=pool&trigger\";\nreturn msg;\n","outputs":1,"noerr":0,"x":697,"y":1180,"wires":[["3f56c50a.db089a"]]}]